import type {Metadata} from "next";
import {unstable_setRequestLocale} from 'next-intl/server'
import {Inter} from "next/font/google";
import "../globals.css";

const inter = Inter({subsets: ["latin"]});
const locales = ['en', 'de', 'fr', 'it', 'nl', 'es', 'pt', 'pl']


export const metadata: Metadata = {
    title: "Create Next App",
    description: "Generated by create next app",
};

//Needed for static rendering
//Docs on https://next-intl-docs.vercel.app/docs/getting-started/app-router#static-rendering
export function generateStaticParams() {
    return locales.map(locale => ({locale}))
}

export default function RootLayout({
                                       children, modal
                                   }: {
    children: React.ReactNode;
    modal: React.ReactNode
}) {
    //Needed for static rendering
    //Docs on https://next-intl-docs.vercel.app/docs/getting-started/app-router#static-rendering
    //Needs to be used before any other intl hook otherwise it will cause the build to fail
    unstable_setRequestLocale('en')

    return (
        <html lang="en">
        <body className={inter.className}>
        {children}

        <br/>
        <br/>
        {modal}
        </body>
        </html>
    );
}
